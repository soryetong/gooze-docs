import{_ as p,C as k,c as e,o as d,ag as h,j as s,G as n,w as t,a as l}from"./chunks/framework.S-Qvb3wi.js";const x=JSON.parse('{"title":"配置文件","description":"","frontmatter":{},"headers":[],"relativePath":"guide/config.md","filePath":"guide/config.md"}'),E={name:"guide/config.md"},r={tabindex:"0"},o={tabindex:"0"},u={tabindex:"0"},g={tabindex:"0"},y={tabindex:"0"},F={tabindex:"0"},C={tabindex:"0"},c={tabindex:"0"};function q(m,i,B,b,A,v){const a=k("nobr");return d(),e("div",null,[i[48]||(i[48]=h("",16)),s("table",r,[s("thead",null,[s("tr",null,[i[2]||(i[2]=s("th",null,"配置项",-1)),i[3]||(i[3]=s("th",null,"类型",-1)),s("th",null,[n(a,null,{default:t(()=>i[0]||(i[0]=[l("必填",-1)])),_:1,__:[0]})]),s("th",null,[n(a,null,{default:t(()=>i[1]||(i[1]=[l("默认值",-1)])),_:1,__:[1]})]),i[4]||(i[4]=s("th",null,"描述",-1))])]),i[5]||(i[5]=s("tbody",null,[s("tr",null,[s("td",null,[s("code",null,"name")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td",null,"应用名称")]),s("tr",null,[s("td",null,[s("code",null,"env")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td",null,[l("当前环境，与 "),s("code",null,"gin"),l(" 的 "),s("code",null,"EnvGinMode"),l(" 保持一致，可选项有 "),s("code",null,"debug"),l("、"),s("code",null,"test"),l("、"),s("code",null,"release")])]),s("tr",null,[s("td",null,[s("code",null,"addr")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td",null,[l("服务地址，可以是 "),s("code",null,"ip:port"),l("，也可以只要 "),s("code",null,":port"),l("，当没有填写 IP 时，"),s("code",null,"gooze"),l(" 会自动解析当前的局域网 IP 地址")])]),s("tr",null,[s("td",null,[s("code",null,"timeout")]),s("td",null,"int"),s("td",null,"✅"),s("td",null,"无"),s("td",null,"超时时长")]),s("tr",null,[s("td",null,[s("code",null,"routerPrefix")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td",null,[l("路由前缀，"),s("code",null,"Casbin"),l(" 中间件与 [API 代码生成] 时需要，默认 "),s("code",null,"api/v1")])])],-1))]),i[49]||(i[49]=s("br",null,null,-1)),i[50]||(i[50]=s("h3",{id:"databases",tabindex:"-1"},[l("2. "),s("strong",null,"databases 模块"),l(),s("a",{class:"header-anchor",href:"#databases","aria-label":'Permalink to "2. **databases 模块** {#databases}"'},"​")],-1)),i[51]||(i[51]=s("div",{class:"tip custom-block",style:{"padding-top":"8px"}},[s("p",null,[l("是一个 "),s("strong",null,"数据库配置项列表（list of database configs）"),l("，支持配置多个数据库连接。")])],-1)),s("table",o,[s("thead",null,[s("tr",null,[i[8]||(i[8]=s("th",null,"配置项",-1)),i[9]||(i[9]=s("th",null,"类型",-1)),s("th",null,[n(a,null,{default:t(()=>i[6]||(i[6]=[l("必填",-1)])),_:1,__:[6]})]),s("th",null,[n(a,null,{default:t(()=>i[7]||(i[7]=[l("默认值",-1)])),_:1,__:[7]})]),i[10]||(i[10]=s("th",null,"描述",-1))])]),i[11]||(i[11]=s("tbody",null,[s("tr",null,[s("td",null,[s("code",null,"name")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td",null,"连接名称，这个很重要，多链接时将通过这个值获取对应的 DB")]),s("tr",null,[s("td",null,[s("code",null,"driver")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td",null,[l("使用哪一个驱动，目前支持 "),s("code",null,"MySQL"),l("、"),s("code",null,"PostgresSQL"),l("、"),s("code",null,"SQLite"),l("、"),s("code",null,"SQLServer"),l("、"),s("code",null,"Oracle")])]),s("tr",null,[s("td",null,[s("code",null,"dsn")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td",null,"连接信息")]),s("tr",null,[s("td",null,[s("code",null,"useGorm")]),s("td",null,"bool"),s("td",null,"✅"),s("td",null,"无"),s("td",null,[l("是否使用 "),s("code",null,"gorm"),l(", 为 "),s("code",null,"true"),l(" 时使用的是 "),s("code",null,"*gorm.DB"),l(", 为 "),s("code",null,"false"),l(" 时使用的是 "),s("code",null,"*sqlx.DB"),l(",")])]),s("tr",null,[s("td",null,[s("code",null,"logLevel")]),s("td",null,"int"),s("td",null,"❌"),s("td",null,"3"),s("td",null,[l("哪些级别的日志需要记录，"),s("code",null,"sqlx"),l(" 不支持该参数")])]),s("tr",null,[s("td",null,[s("code",null,"enableLogWriter")]),s("td",null,"bool"),s("td",null,"❌"),s("td",null,"false"),s("td",null,[l("是否使用 zap 日志记录数据库日志，"),s("code",null,"sqlx"),l(" 不支持该参数")])]),s("tr",null,[s("td",null,[s("code",null,"maxIdleConn")]),s("td",null,"int"),s("td",null,"❌"),s("td",null,"10"),s("td",null,"最大空闲连接")]),s("tr",null,[s("td",null,[s("code",null,"maxConn")]),s("td",null,"int"),s("td",null,"❌"),s("td",null,"200"),s("td",null,"最大连接数")]),s("tr",null,[s("td",null,[s("code",null,"slowThreshold")]),s("td",null,"int"),s("td",null,"❌"),s("td",null,"2"),s("td",null,[l("SQL 慢查询阈值（单位：秒），"),s("code",null,"sqlx"),l(" 不支持该参数")])])],-1))]),i[52]||(i[52]=h("",3)),s("table",u,[s("thead",null,[s("tr",null,[i[14]||(i[14]=s("th",null,"配置项",-1)),i[15]||(i[15]=s("th",null,"类型",-1)),s("th",null,[n(a,null,{default:t(()=>i[12]||(i[12]=[l("必填",-1)])),_:1,__:[12]})]),s("th",null,[n(a,null,{default:t(()=>i[13]||(i[13]=[l("默认值",-1)])),_:1,__:[13]})]),i[16]||(i[16]=s("th",null,"描述",-1))])]),i[17]||(i[17]=s("tbody",null,[s("tr",null,[s("td",null,[s("code",null,"addr")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td",null,"连接信息")]),s("tr",null,[s("td",null,[s("code",null,"password")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td",null,"密码")]),s("tr",null,[s("td",null,[s("code",null,"db")]),s("td",null,"int"),s("td",null,"✅"),s("td",null,"无"),s("td",null,"使用哪个库")]),s("tr",null,[s("td",null,[s("code",null,"isCluster")]),s("td",null,"bool"),s("td",null,"✅"),s("td",null,"无"),s("td",null,"是否集群")])],-1))]),i[53]||(i[53]=s("br",null,null,-1)),i[54]||(i[54]=s("h3",{id:"mongo",tabindex:"-1"},[l("4. "),s("strong",null,"mongo 模块"),l(),s("a",{class:"header-anchor",href:"#mongo","aria-label":'Permalink to "4. **mongo 模块** {#mongo}"'},"​")],-1)),s("table",g,[s("thead",null,[s("tr",null,[i[20]||(i[20]=s("th",null,"配置项",-1)),i[21]||(i[21]=s("th",null,"类型",-1)),s("th",null,[n(a,null,{default:t(()=>i[18]||(i[18]=[l("必填",-1)])),_:1,__:[18]})]),s("th",null,[n(a,null,{default:t(()=>i[19]||(i[19]=[l("默认值",-1)])),_:1,__:[19]})]),i[22]||(i[22]=s("th",null,"描述",-1))])]),i[23]||(i[23]=s("tbody",null,[s("tr",null,[s("td",null,[s("code",null,"url")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td",null,"连接信息")])],-1))]),i[55]||(i[55]=s("br",null,null,-1)),i[56]||(i[56]=s("h3",{id:"log",tabindex:"-1"},[l("5. "),s("strong",null,"log 模块"),l(),s("a",{class:"header-anchor",href:"#log","aria-label":'Permalink to "5. **log 模块** {#log}"'},"​")],-1)),s("table",y,[s("thead",null,[s("tr",null,[i[26]||(i[26]=s("th",null,"配置项",-1)),i[27]||(i[27]=s("th",null,"类型",-1)),s("th",null,[n(a,null,{default:t(()=>i[24]||(i[24]=[l("必填",-1)])),_:1,__:[24]})]),s("th",null,[n(a,null,{default:t(()=>i[25]||(i[25]=[l("默认值",-1)])),_:1,__:[25]})]),i[28]||(i[28]=s("th",null,"描述",-1))])]),i[29]||(i[29]=s("tbody",null,[s("tr",null,[s("td",null,[s("code",null,"path")]),s("td",null,"string"),s("td",null,"❌"),s("td",null,"./logs/"),s("td",null,"日志保存的路径")]),s("tr",null,[s("td",null,[s("code",null,"mode")]),s("td",null,"string"),s("td",null,"❌"),s("td",null,"both"),s("td",null,"文件写入的方式")]),s("tr",null,[s("td",null,[s("code",null,"logrotate")]),s("td",null,"bool"),s("td",null,"❌"),s("td",null,"true"),s("td",null,"是否开启日志轮转，由于日志是按照日期分目录的，为 true 时，会在每天晚上 24 点按照日期重新创建日志目录")]),s("tr",null,[s("td",null,[s("code",null,"recover")]),s("td",null,"bool"),s("td",null,"❌"),s("td",null,"true"),s("td",null,"是否重新创建已删除的日志文件")]),s("tr",null,[s("td",null,[s("code",null,"maxSize")]),s("td",null,"int"),s("td",null,"❌"),s("td",null,"1"),s("td",null,"单文件最大容量, 单位是 MB")]),s("tr",null,[s("td",null,[s("code",null,"maxBackups")]),s("td",null,"int"),s("td",null,"❌"),s("td",null,"3"),s("td",null,"最大保留过期文件个数")]),s("tr",null,[s("td",null,[s("code",null,"maxAge")]),s("td",null,"int"),s("td",null,"❌"),s("td",null,"7"),s("td",null,"保留过期文件的最大时间间隔, 单位是天")]),s("tr",null,[s("td",null,[s("code",null,"compress")]),s("td",null,"bool"),s("td",null,"❌"),s("td",null,"true"),s("td",null,"是否需要压缩滚动日志, 使用的 gzip 压缩")])],-1))]),i[57]||(i[57]=h("",6)),s("table",F,[s("thead",null,[s("tr",null,[i[32]||(i[32]=s("th",null,"配置项",-1)),i[33]||(i[33]=s("th",null,"类型",-1)),s("th",null,[n(a,null,{default:t(()=>i[30]||(i[30]=[l("必填",-1)])),_:1,__:[30]})]),s("th",null,[n(a,null,{default:t(()=>i[31]||(i[31]=[l("默认值",-1)])),_:1,__:[31]})]),i[34]||(i[34]=s("th",null,"描述",-1))])]),i[35]||(i[35]=s("tbody",null,[s("tr",null,[s("td",null,[s("code",null,"secretKey")]),s("td",null,"string"),s("td",null,"❌"),s("td",null,"1234567890"),s("td",null,"密钥")]),s("tr",null,[s("td",null,[s("code",null,"expire")]),s("td",null,"int"),s("td",null,"❌"),s("td",null,"1200"),s("td",null,"过期时间，单位是 秒")])],-1))]),i[58]||(i[58]=s("br",null,null,-1)),i[59]||(i[59]=s("h3",{id:"casbin",tabindex:"-1"},[l("7. "),s("strong",null,"casbin 模块"),l(),s("a",{class:"header-anchor",href:"#casbin","aria-label":'Permalink to "7. **casbin 模块** {#casbin}"'},"​")],-1)),i[60]||(i[60]=s("div",{class:"tip custom-block",style:{"padding-top":"8px"}},[s("p",null,"casbin 模块只用于管理后台，如果不是管理后台，那么这个就可以不用配置")],-1)),s("table",C,[s("thead",null,[s("tr",null,[i[38]||(i[38]=s("th",null,"配置项",-1)),i[39]||(i[39]=s("th",null,"类型",-1)),s("th",null,[n(a,null,{default:t(()=>i[36]||(i[36]=[l("必填",-1)])),_:1,__:[36]})]),s("th",null,[n(a,null,{default:t(()=>i[37]||(i[37]=[l("默认值",-1)])),_:1,__:[37]})]),i[40]||(i[40]=s("th",null,"描述",-1))])]),i[41]||(i[41]=s("tbody",null,[s("tr",null,[s("td",null,[s("code",null,"modePath")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td",null,"RBAC 的模型配置文件地址")]),s("tr",null,[s("td",null,[s("code",null,"dbName")]),s("td",null,"string"),s("td",null,"-"),s("td",null,"无"),s("td",null,"当你使用了多个数据库时，需要指定一个数据库名，只有一个时，可以忽略这个配置")])],-1))]),i[61]||(i[61]=s("br",null,null,-1)),i[62]||(i[62]=s("h3",{id:"oss",tabindex:"-1"},[l("8. "),s("strong",null,"oss 模块"),l(),s("a",{class:"header-anchor",href:"#oss","aria-label":'Permalink to "8. **oss 模块** {#oss}"'},"​")],-1)),i[63]||(i[63]=s("div",{class:"tip custom-block",style:{"padding-top":"8px"}},[s("p",null,"有图片上传的业务逻辑才需要进行这个配置")],-1)),s("table",c,[s("thead",null,[s("tr",null,[i[44]||(i[44]=s("th",null,"配置项",-1)),i[45]||(i[45]=s("th",null,"类型",-1)),s("th",null,[n(a,null,{default:t(()=>i[42]||(i[42]=[l("必填",-1)])),_:1,__:[42]})]),s("th",null,[n(a,null,{default:t(()=>i[43]||(i[43]=[l("默认值",-1)])),_:1,__:[43]})]),i[46]||(i[46]=s("th",null,"描述",-1))])]),i[47]||(i[47]=s("tbody",null,[s("tr",null,[s("td",null,[s("code",null,"type")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td",null,[l("上传类型，目前只支持 "),s("code",null,"local"),l("、"),s("code",null,"qiniu")])]),s("tr",null,[s("td",null,[s("code",null,"savePath")]),s("td",null,"string"),s("td",null,"❌"),s("td",null,"./static/storage/attach/"),s("td",null,[l("你要存储的路径，当 "),s("code",null,"type"),l(" 为 "),s("code",null,"local"),l(" 时必须以 "),s("code",null,"./static"),l(" 开头")])]),s("tr",null,[s("td",null,[s("code",null,"url")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td",null,"你图片的访问地址，一般不建议把图片的 URL 写入到数据库中，接口返回时最好通过这个组装")]),s("tr",null,[s("td",null,[s("code",null,"accessKey")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td")]),s("tr",null,[s("td",null,[s("code",null,"secretKey")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td")]),s("tr",null,[s("td",null,[s("code",null,"bucketName")]),s("td",null,"string"),s("td",null,"✅"),s("td",null,"无"),s("td")])],-1))])])}const f=p(E,[["render",q]]);export{x as __pageData,f as default};
